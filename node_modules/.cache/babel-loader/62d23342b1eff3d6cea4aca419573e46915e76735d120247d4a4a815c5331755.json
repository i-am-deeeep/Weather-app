{"ast":null,"code":"import _regeneratorRuntime from\"C:/A new folder/codes/weatherapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/A new folder/codes/weatherapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"C:/A new folder/codes/weatherapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{DateTime}from\"luxon\";var API_KEY=\"1fa9ff4126d95b8db54f3897a208e91c\";var BASE_URL=\"https://api.openweathermap.org/data/2.5\";// https://api.openweathermap.org/data/2.5/onecall?lat=48.8534&lon=2.3488&exclude=current,minutely,hourly,alerts&appid=1fa9ff4126d95b8db54f3897a208e91c&units=metric\nvar getWeatherData=function getWeatherData(infoType,searchParams){var url=new URL(BASE_URL+\"/\"+infoType);url.search=new URLSearchParams(_objectSpread(_objectSpread({},searchParams),{},{appid:API_KEY}));return fetch(url).then(function(res){return res.json();});};var formatCurrentWeather=function formatCurrentWeather(data){var _data$coord=data.coord,lat=_data$coord.lat,lon=_data$coord.lon,_data$main=data.main,temp=_data$main.temp,feels_like=_data$main.feels_like,temp_min=_data$main.temp_min,temp_max=_data$main.temp_max,humidity=_data$main.humidity,name=data.name,dt=data.dt,_data$sys=data.sys,country=_data$sys.country,sunrise=_data$sys.sunrise,sunset=_data$sys.sunset,weather=data.weather,speed=data.wind.speed;var _weather$=weather[0],details=_weather$.main,icon=_weather$.icon;return{lat:lat,lon:lon,temp:temp,feels_like:feels_like,temp_min:temp_min,temp_max:temp_max,humidity:humidity,name:name,dt:dt,country:country,sunrise:sunrise,sunset:sunset,details:details,icon:icon,speed:speed};};var formatForecastWeather=function formatForecastWeather(data){var timezone=data.timezone,daily=data.daily,hourly=data.hourly;daily=daily.slice(1,6).map(function(d){return{title:formatToLocalTime(d.dt,timezone,\"ccc\"),temp:d.temp.day,icon:d.weather[0].icon};});hourly=hourly.slice(1,6).map(function(d){return{title:formatToLocalTime(d.dt,timezone,\"hh:mm a\"),temp:d.temp,icon:d.weather[0].icon};});return{timezone:timezone,daily:daily,hourly:hourly};};var getFormattedWeatherData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(searchParams){var formattedCurrentWeather,lat,lon,formattedForecastWeather;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return getWeatherData(\"weather\",searchParams).then(formatCurrentWeather);case 2:formattedCurrentWeather=_context.sent;lat=formattedCurrentWeather.lat,lon=formattedCurrentWeather.lon;_context.next=6;return getWeatherData(\"onecall\",{lat:lat,lon:lon,exclude:\"current,minutely,alerts\",units:searchParams.units}).then(formatForecastWeather);case 6:formattedForecastWeather=_context.sent;return _context.abrupt(\"return\",_objectSpread(_objectSpread({},formattedCurrentWeather),formattedForecastWeather));case 8:case\"end\":return _context.stop();}},_callee);}));return function getFormattedWeatherData(_x){return _ref.apply(this,arguments);};}();var formatToLocalTime=function formatToLocalTime(secs,zone){var format=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"cccc, dd LLL yyyy' | Local time: 'hh:mm a\";return DateTime.fromSeconds(secs).setZone(zone).toFormat(format);};var iconUrlFromCode=function iconUrlFromCode(code){return\"http://openweathermap.org/img/wn/\".concat(code,\"@2x.png\");};//   console.log(getFormattedWeatherData())\nexport default getFormattedWeatherData;export{formatToLocalTime,iconUrlFromCode};","map":{"version":3,"names":["DateTime","API_KEY","BASE_URL","getWeatherData","infoType","searchParams","url","URL","search","URLSearchParams","_objectSpread","appid","fetch","then","res","json","formatCurrentWeather","data","_data$coord","coord","lat","lon","_data$main","main","temp","feels_like","temp_min","temp_max","humidity","name","dt","_data$sys","sys","country","sunrise","sunset","weather","speed","wind","_weather$","details","icon","formatForecastWeather","timezone","daily","hourly","slice","map","d","title","formatToLocalTime","day","getFormattedWeatherData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","formattedCurrentWeather","formattedForecastWeather","wrap","_callee$","_context","prev","next","sent","exclude","units","abrupt","stop","_x","apply","arguments","secs","zone","format","length","undefined","fromSeconds","setZone","toFormat","iconUrlFromCode","code","concat"],"sources":["C:/A new folder/codes/weatherapp/src/services/weatherService.js"],"sourcesContent":["import { DateTime } from \"luxon\";\r\n\r\nconst API_KEY = \"1fa9ff4126d95b8db54f3897a208e91c\";\r\nconst BASE_URL = \"https://api.openweathermap.org/data/2.5\";\r\n\r\n// https://api.openweathermap.org/data/2.5/onecall?lat=48.8534&lon=2.3488&exclude=current,minutely,hourly,alerts&appid=1fa9ff4126d95b8db54f3897a208e91c&units=metric\r\n\r\nconst getWeatherData = (infoType, searchParams) => {\r\n  const url = new URL(BASE_URL + \"/\" + infoType);\r\n  url.search = new URLSearchParams({ ...searchParams, appid: API_KEY });\r\n\r\n  return fetch(url).then((res) => res.json());\r\n};\r\n\r\nconst formatCurrentWeather = (data) => {\r\n  const {\r\n    coord: { lat, lon },\r\n    main: { temp, feels_like, temp_min, temp_max, humidity },\r\n    name,\r\n    dt,\r\n    sys: { country, sunrise, sunset },\r\n    weather,\r\n    wind: { speed },\r\n  } = data;\r\n\r\n  const { main: details, icon } = weather[0];\r\n\r\n  return {\r\n    lat,\r\n    lon,\r\n    temp,\r\n    feels_like,\r\n    temp_min,\r\n    temp_max,\r\n    humidity,\r\n    name,\r\n    dt,\r\n    country,\r\n    sunrise,\r\n    sunset,\r\n    details,\r\n    icon,\r\n    speed,\r\n  };\r\n};\r\n\r\nconst formatForecastWeather = (data) => {\r\n  let { timezone, daily, hourly } = data;\r\n  daily = daily.slice(1, 6).map((d) => {\r\n    return {\r\n      title: formatToLocalTime(d.dt, timezone, \"ccc\"),\r\n      temp: d.temp.day,\r\n      icon: d.weather[0].icon,\r\n    };\r\n  });\r\n\r\n  hourly = hourly.slice(1, 6).map((d) => {\r\n    return {\r\n      title: formatToLocalTime(d.dt, timezone, \"hh:mm a\"),\r\n      temp: d.temp,\r\n      icon: d.weather[0].icon,\r\n    };\r\n  });\r\n\r\n  return { timezone, daily, hourly };\r\n};\r\n\r\nconst getFormattedWeatherData = async (searchParams) => {\r\n  const formattedCurrentWeather = await getWeatherData(\r\n    \"weather\",\r\n    searchParams\r\n  ).then(formatCurrentWeather);\r\n\r\n  const { lat, lon } = formattedCurrentWeather;\r\n\r\n  const formattedForecastWeather = await getWeatherData(\"onecall\", {\r\n    lat,\r\n    lon,\r\n    exclude: \"current,minutely,alerts\",\r\n    units: searchParams.units,\r\n  }).then(formatForecastWeather);\r\n\r\n  return { ...formattedCurrentWeather, ...formattedForecastWeather };\r\n};\r\n\r\nconst formatToLocalTime = (\r\n  secs,\r\n  zone,\r\n  format = \"cccc, dd LLL yyyy' | Local time: 'hh:mm a\"\r\n) => DateTime.fromSeconds(secs).setZone(zone).toFormat(format);\r\n\r\nconst iconUrlFromCode = (code) =>\r\n  `http://openweathermap.org/img/wn/${code}@2x.png`;\r\n\r\n//   console.log(getFormattedWeatherData())\r\nexport default getFormattedWeatherData;\r\n\r\nexport { formatToLocalTime, iconUrlFromCode };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}